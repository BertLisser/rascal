concept("getAnnotations",|cwd:///src/org/rascalmpl/library/experiments/RascalTutor/Courses/Rascal/Expressions/Values/Node/getAnnotations/getAnnotations.concept|,[" anno declaration on node is broken "],[],{"Library"},{},"","",""," \<code\>map[str,value] getAnnotations(node x)\</code\>\n",{}," Retrieve the annnotations of a node value as a map.\n"," \<warning\> anno declaration on node is broken \</warning\> \<pre class=\"screen\"\>\<b\>rascal\>\</b\>import Node;\nok\n\</pre\>\n  Declare a string-valued annotation on nodes, named color:\n\n\<pre class=\"screen\"\>\<b\>rascal\>\</b\>anno str node @ color;\nUnexpected exception (generic Throwable): Can not declare annotations on node\nstacktrace: Can not declare annotations on node\n    at org.eclipse.imp.pdb.facts.type.TypeStore.declareAnnotation(TypeStore.java&raquo;\n:523)\n    at org.rascalmpl.interpreter.env.ModuleEnvironment.declareAnnotation(ModuleE&raquo;\nnvironment.java:319)\n    at org.rascalmpl.interpreter.Evaluator.visitDeclarationAnnotation(Evaluator.&raquo;\njava:1604)\n    at org.rascalmpl.interpreter.Evaluator.visitDeclarationAnnotation(Evaluator.&raquo;\njava:1)\n    at org.rascalmpl.ast.Declaration$Annotation.accept(Declaration.java:253)\n    at org.rascalmpl.interpreter.Evaluator.visitCommandDeclaration(Evaluator.jav&raquo;\na:1049)\n    at org.rascalmpl.interpreter.Evaluator.visitCommandDeclaration(Evaluator.jav&raquo;\na:1)\n    at org.rascalmpl.ast.Command$Declaration.accept(Command.java:83)\n    at org.rascalmpl.interpreter.Evaluator.eval(Evaluator.java:795)\n    at org.rascalmpl.interpreter.Evaluator.eval(Evaluator.java:756)\n    at org.rascalmpl.interpreter.RascalShell.handleInput(RascalShell.java:153)\n    at org.rascalmpl.interpreter.RascalShell.run(RascalShell.java:91)\n    at org.rascalmpl.library.Scripting.shell(Scripting.java:70)\n    at org.rascalmpl.library.Scripting.shell(Scripting.java:98)\n    at sun.reflect.GeneratedMethodAccessor192.invoke(null:-1)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorI&raquo;\nmpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.rascalmpl.interpreter.result.JavaMethod.invoke(JavaMethod.java:105)\n    at org.rascalmpl.interpreter.result.JavaMethod.call(JavaMethod.java:69)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:2054)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Assignment.accept(Statement.java:266)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionTuple(Evaluator.java:2&raquo;\n772)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionTuple(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Expression$Tuple.accept(Expression.java:1294)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n948)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Statement$Return.accept(Statement.java:327)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:2068)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:1)\n    at org.rascalmpl.ast.Statement$NonEmptyBlock.accept(Statement.java:532)\n    at org.rascalmpl.interpreter.Evaluator.matchAndEval(Evaluator.java:3292)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementSwitch(Evaluator.java:3&raquo;\n360)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementSwitch(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Statement$Switch.accept(Statement.java:192)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:2054)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Assignment.accept(Statement.java:266)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:2068)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:1)\n    at org.rascalmpl.ast.Statement$NonEmptyBlock.accept(Statement.java:532)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementWhile(Evaluator.java:23&raquo;\n56)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementWhile(Evaluator.java:1)&raquo;\n\n    at org.rascalmpl.ast.Statement$While.accept(Statement.java:80)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n948)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Statement$Return.accept(Statement.java:327)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:2054)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Assignment.accept(Statement.java:266)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:2068)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:1)\n    at org.rascalmpl.ast.Statement$NonEmptyBlock.accept(Statement.java:532)\n    at org.rascalmpl.interpreter.Evaluator.evalStatementTry(Evaluator.java:2017)&raquo;\n\n    at org.rascalmpl.interpreter.Evaluator.visitStatementTry(Evaluator.java:2005&raquo;\n)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementTry(Evaluator.java:1)\n    at org.rascalmpl.ast.Statement$Try.accept(Statement.java:484)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n948)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Statement$Return.accept(Statement.java:327)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n948)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementReturn(Evaluator.java:1&raquo;\n)\n    at org.rascalmpl.ast.Statement$Return.accept(Statement.java:327)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:2054)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Assignment.accept(Statement.java:266)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:2068)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:1)\n    at org.rascalmpl.ast.Statement$NonEmptyBlock.accept(Statement.java:532)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementFor(Evaluator.java:4016&raquo;\n)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementFor(Evaluator.java:1)\n    at org.rascalmpl.ast.Statement$For.accept(Statement.java:55)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1849)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementExpression(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Expression.accept(Statement.java:248)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:2054)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementAssignment(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$Assignment.accept(Statement.java:266)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:2068)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementNonEmptyBlock(Evaluator&raquo;\n.java:1)\n    at org.rascalmpl.ast.Statement$NonEmptyBlock.accept(Statement.java:532)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementIfThenElse(Evaluator.ja&raquo;\nva:2256)\n    at org.rascalmpl.interpreter.Evaluator.visitStatementIfThenElse(Evaluator.ja&raquo;\nva:1)\n    at org.rascalmpl.ast.Statement$IfThenElse.accept(Statement.java:133)\n    at org.rascalmpl.interpreter.result.RascalFunction.call(RascalFunction.java:&raquo;\n94)\n    at org.rascalmpl.interpreter.result.OverloadedFunctionResult.call(Overloaded&raquo;\nFunctionResult.java:74)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1762)\n    at org.rascalmpl.interpreter.Evaluator.visitExpressionCallOrTree(Evaluator.j&raquo;\nava:1)\n    at org.rascalmpl.ast.Expression$CallOrTree.accept(Expression.java:64)\n    at org.rascalmpl.interpreter.Evaluator.visitCommandExpression(Evaluator.java&raquo;\n:1066)\n    at org.rascalmpl.interpreter.Evaluator.visitCommandExpression(Evaluator.java&raquo;\n:1)\n    at org.rascalmpl.ast.Command$Expression.accept(Command.java:64)\n    at org.rascalmpl.interpreter.Evaluator.eval(Evaluator.java:795)\n    at org.rascalmpl.interpreter.Evaluator.eval(Evaluator.java:756)\n    at org.rascalmpl.library.experiments.RascalTutor.Start.doGet(Start.java:25)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:527)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:423&raquo;\n)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.j&raquo;\nava:223)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.j&raquo;\nava:930)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:358)&raquo;\n\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.ja&raquo;\nva:183)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.ja&raquo;\nva:866)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:&raquo;\n117)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.jav&raquo;\na:113)\n    at org.eclipse.jetty.server.Server.handle(Server.java:351)\n    at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java&raquo;\n:594)\n    at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(Htt&raquo;\npConnection.java:1041)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:549)\n    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:211)\n    at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:424)\n    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.&raquo;\njava:489)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.jav&raquo;\na:436)\n    at java.lang.Thread.run(Thread.java:637)\n\</pre\>\n  Create a node with two annotations:\n\n\<pre class=\"screen\"\>\<b\>rascal\>\</b\>N = setAnnotations(&quot;f&quot;(10, &quot;abc&quot;), (&quot;color&quot; : &quot;red&quot;, &quot;size&quot; : &quot;large&quot;));\nnode: f(10,&quot;abc&quot;)[@color=&quot;red&quot;,@size=&quot;large&quot;]\n\</pre\>\n  and retrieve those annotations:\n\n\<pre class=\"screen\"\>\<b\>rascal\>\</b\>getAnnotations(N);\nmap[str, value]: (&quot;color&quot;:&quot;red&quot;,&quot;size&quot;:&quot;large&quot;)\n\<b\>rascal\>\</b\>N@color;\nStatic Error: prompt:///:1,0: Undeclared annotation: color on node\n\</pre\>","","",[])